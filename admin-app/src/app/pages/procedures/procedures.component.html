<div class="procedures-page">
  <h1 class="page-title">Ajouter une nouvelle procédure</h1>
  <p class="page-description">Remplissez les détails ci-dessous pour ajouter une nouvelle procédure au système.</p>

  <div *ngIf="successMessage" style="background-color: #d4edda; color: #155724; padding: 12px 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #c3e6cb;">
    {{ successMessage }}
  </div>

  <div *ngIf="errorMessage" style="background-color: #f8d7da; color: #721c24; padding: 12px 20px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #f5c6cb;">
    {{ errorMessage }}
  </div>

  <form (ngSubmit)="onSubmit()">
    <!-- General Information Section -->
    <div class="form-section">
      <div class="section-header">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
          <path d="M10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18C14.4183 18 18 14.4183 18 10C18 5.58172 14.4183 2 10 2Z" stroke="currentColor" stroke-width="1.5" fill="none"/>
          <path d="M10 7V11" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          <circle cx="10" cy="14" r="0.75" fill="currentColor"/>
        </svg>
        <h2 class="section-title">Informations générales</h2>
      </div>

      <div class="form-group">
        <label for="procedureName">Nom de la procédure</label>
        <input
          type="text"
          id="procedureName"
          [(ngModel)]="procedureName"
          name="procedureName"
          placeholder="Entrez le nom de la procédure"
          class="form-input"
        />
      </div>

      <div class="form-group">
        <label for="category">Catégorie</label>
        <input
          type="text"
          id="category"
          [(ngModel)]="selectedCategory"
          name="category"
          placeholder="Entrez le nom de la catégorie"
          class="form-input"
        />
      </div>

      <div class="form-group">
        <label for="subCategory">Sous-catégorie</label>
        <input
          type="text"
          id="subCategory"
          [(ngModel)]="selectedSubCategory"
          name="subCategory"
          placeholder="Entrez le nom de la sous-catégorie"
          class="form-input"
        />
      </div>
    </div>

    <!-- Steps Section -->
    <div class="form-section">
      <div class="section-header">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
          <path d="M6 4L10 8L14 4" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/>
          <rect x="3" y="6" width="14" height="12" rx="1" stroke="currentColor" stroke-width="1.5" fill="none"/>
          <path d="M6 10H14" stroke="currentColor" stroke-width="1.5"/>
          <path d="M6 13H12" stroke="currentColor" stroke-width="1.5"/>
        </svg>
        <h2 class="section-title">Étapes à suivre</h2>
      </div>

      <div class="form-row">
        <div class="form-group half">
          <label for="stepName">Nom</label>
          <input
            type="text"
            id="stepName"
            [(ngModel)]="stepName"
            name="stepName"
            placeholder="Entrez le nom de la procédure"
            class="form-input"
          />
        </div>

        <div class="form-group half">
          <label for="stepLevel">Niveau</label>
          <input
            type="text"
            id="stepLevel"
            [(ngModel)]="stepLevel"
            name="stepLevel"
            placeholder="Ex : 1"
            class="form-input"
          />
        </div>
      </div>

      <div class="form-group">
        <label for="stepDescription">Description</label>
        <textarea
          id="stepDescription"
          [(ngModel)]="stepDescription"
          name="stepDescription"
          placeholder="Description"
          class="form-textarea"
          rows="4"
        ></textarea>
      </div>

      <button type="button" class="btn-add-section" (click)="addStep()">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
          <path d="M8 0C8.41421 0 8.75 0.335786 8.75 0.75V7.25H15.25C15.6642 7.25 16 7.58579 16 8C16 8.41421 15.6642 8.75 15.25 8.75H8.75V15.25C8.75 15.6642 8.41421 16 8 16C7.58579 16 7.25 15.6642 7.25 15.25V8.75H0.75C0.335786 8.75 0 8.41421 0 8C0 7.58579 0.335786 7.25 0.75 7.25H7.25V0.75C7.25 0.335786 7.58579 0 8 0Z"/>
        </svg>
        Ajouter une étape
      </button>
    </div>

    <!-- Required Documents Section -->
    <div class="form-section">
      <div class="section-header">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
          <path d="M4 2C3.44772 2 3 2.44772 3 3V17C3 17.5523 3.44772 18 4 18H16C16.5523 18 17 17.5523 17 17V6L12 1H4Z" stroke="currentColor" stroke-width="1.5" fill="none"/>
          <path d="M12 1V6H17" stroke="currentColor" stroke-width="1.5"/>
          <rect x="5" y="9" width="10" height="1.5" rx="0.75"/>
          <rect x="5" y="12" width="10" height="1.5" rx="0.75"/>
        </svg>
        <h2 class="section-title">Documents requis</h2>
      </div>

      <div class="form-group">
        <label for="documentName">Nom</label>
        <input
          type="text"
          id="documentName"
          [(ngModel)]="documentName"
          name="documentName"
          placeholder="Entrez le nom du document"
          class="form-input"
        />
      </div>

      <div class="form-group">
        <label class="checkbox-label">
          <input
            type="checkbox"
            [(ngModel)]="documentRequired"
            name="documentRequired"
            class="checkbox-input"
          />
          <span>Obligatoire</span>
        </label>
      </div>

      <div class="form-group">
        <label for="documentDescription">Description</label>
        <textarea
          id="documentDescription"
          [(ngModel)]="documentDescription"
          name="documentDescription"
          placeholder="Description"
          class="form-textarea"
          rows="4"
        ></textarea>
      </div>

      <button type="button" class="btn-add-section" (click)="addDocument()">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
          <path d="M8 0C8.41421 0 8.75 0.335786 8.75 0.75V7.25H15.25C15.6642 7.25 16 7.58579 16 8C16 8.41421 15.6642 8.75 15.25 8.75H8.75V15.25C8.75 15.6642 8.41421 16 8 16C7.58579 16 7.25 15.6642 7.25 15.25V8.75H0.75C0.335786 8.75 0 8.41421 0 8C0 7.58579 0.335786 7.25 0.75 7.25H7.25V0.75C7.25 0.335786 7.58579 0 8 0Z"/>
        </svg>
        Ajouter un document
      </button>
    </div>

    <!-- Processing Time Section -->
    <div class="form-section">
      <div class="section-header">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
          <path d="M10 2C14.4183 2 18 5.58172 18 10C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2Z" stroke="currentColor" stroke-width="1.5" fill="none"/>
          <path d="M10 5V10L13 13" stroke="currentColor" stroke-width="1.5"/>
        </svg>
        <h2 class="section-title">Délai de traitement</h2>
      </div>

      <div class="form-row">
        <div class="form-group half">
          <input
            type="text"
            [(ngModel)]="processingTime"
            name="processingTime"
            placeholder="EX : 5"
            class="form-input"
          />
        </div>

        <div class="form-group half">
          <select
            [(ngModel)]="selectedTimeUnit"
            name="selectedTimeUnit"
            class="form-select"
          >
            <option value="Jours">Jours</option>
            <option value="Semaines">Semaines</option>
            <option value="Mois">Mois</option>
          </select>
        </div>
      </div>
    </div>

    <!-- Treatment Centers Section -->
    <div class="form-section">
      <div class="section-header">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
          <rect x="2" y="4" width="16" height="14" rx="1" stroke="currentColor" stroke-width="1.5" fill="none"/>
          <path d="M7 4V10" stroke="currentColor" stroke-width="1.5"/>
          <path d="M13 4V10" stroke="currentColor" stroke-width="1.5"/>
        </svg>
        <h2 class="section-title">Centres de traitements</h2>
      </div>

      <div class="form-group">
        <input
          type="text"
          [(ngModel)]="selectedCenter"
          name="selectedCenter"
          placeholder="Entrez le nom du centre de traitement"
          class="form-input"
        />
      </div>
    </div>

    <!-- Law Reference Section -->
    <div class="form-section">
      <div class="section-header">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
          <path d="M4 4L8 7L4 10V4Z" stroke="currentColor" stroke-width="1.5" fill="none"/>
          <path d="M6 17H16C16.5523 17 17 16.5523 17 16V4C17 3.44772 16.5523 3 16 3H6" stroke="currentColor" stroke-width="1.5" fill="none"/>
        </svg>
        <h2 class="section-title">Référence de loi</h2>
      </div>

      <div class="form-group">
        <label for="lawReference">Texte de loi ou référence de loi</label>
        <textarea
          id="lawReference"
          [(ngModel)]="lawReference"
          name="lawReference"
          placeholder="Entre le texte de loi ou la référence..."
          class="form-textarea"
          rows="4"
        ></textarea>
      </div>
    </div>

    <!-- Save Button -->
    <div class="form-actions">
      <button type="submit" class="btn-save">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
          <path d="M16 2H4C2.89543 2 2 2.89543 2 4V16C2 17.1046 2.89543 18 4 18H16C17.1046 18 18 17.1046 18 16V5L16 2Z" stroke="currentColor" stroke-width="1.5" fill="none"/>
          <path d="M16 2V5H18" stroke="currentColor" stroke-width="1.5"/>
          <path d="M5 9L8 12L15 5" stroke="currentColor" stroke-width="1.5"/>
        </svg>
        Sauvegarder
      </button>
    </div>
  </form>
</div>



